<!DOCTYPE html>
<html>

  <head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>میزبانی سرور گیت شخصی - بلاگ - میلاد دورباش</title>
<meta name="description" content="خب ازونجایی که گیتلب هم داره اکانت های ایرانی رو مسدود میکنه تصمیم گرفتم سرور گیت خودم رو میزبانی کنم. اینو بیشتر دارم مینویسم که بعدا اگه خواستم دوباره انجامش بدم یادم بیاد چکار کردم!
دانلود و اکسترکت gogs از اینجا: https://gogs.io/docs/installation/install_from_binary.html
فایل custom/config/app.ini اگر وجود نداشت میسازیمش و پورت رو توش مینویسیم:
[server] HTTP_PORT = 7777 اجرای gogs توسط pm2
pm2 start -i 1 --name gogs ./gogs -- web با مرورگر به آدرس http://domain."/>
<meta name="robots" content="noodp"/>
<link rel="canonical" href="https://doorbash.github.io/blog/posts/%D9%85%DB%8C%D8%B2%D8%A8%D8%A7%D9%86%DB%8C_%D8%B3%D8%B1%D9%88%D8%B1_%DA%AF%DB%8C%D8%AA_%D8%B4%D8%AE%D8%B5%DB%8C/" />


<meta name="twitter:card" content="summary" />
<meta name="twitter:description" content="خب ازونجایی که گیتلب هم داره اکانت های ایرانی رو مسدود میکنه تصمیم گرفتم سرور گیت خودم رو میزبانی کنم. اینو بیشتر دارم مینویسم که بعدا اگه خواستم دوباره انجامش بدم یادم بیاد چکار کردم!
دانلود و اکسترکت gogs از اینجا: https://gogs.io/docs/installation/install_from_binary.html
فایل custom/config/app.ini اگر وجود نداشت میسازیمش و پورت رو توش مینویسیم:
[server] HTTP_PORT = 7777 اجرای gogs توسط pm2
pm2 start -i 1 --name gogs ./gogs -- web با مرورگر به آدرس http://domain." />
<meta name="twitter:title" content="میزبانی سرور گیت شخصی - بلاگ - میلاد دورباش" />
<meta name="twitter:site" content="http://twitter.com/bul_ikana" />
<meta name="twitter:creator" content="http://twitter.com/bul_ikana" />


<meta property="og:type" content="article" />
<meta content="میزبانی سرور گیت شخصی - بلاگ - میلاد دورباش" property="og:title">
<meta content="خب ازونجایی که گیتلب هم داره اکانت های ایرانی رو مسدود میکنه تصمیم گرفتم سرور گیت خودم رو میزبانی کنم. اینو بیشتر دارم مینویسم که بعدا اگه خواستم دوباره انجامش بدم یادم بیاد چکار کردم!
دانلود و اکسترکت gogs از اینجا: https://gogs.io/docs/installation/install_from_binary.html
فایل custom/config/app.ini اگر وجود نداشت میسازیمش و پورت رو توش مینویسیم:
[server] HTTP_PORT = 7777 اجرای gogs توسط pm2
pm2 start -i 1 --name gogs ./gogs -- web با مرورگر به آدرس http://domain." property="og:description">
<meta property="og:url" content="https://doorbash.github.io/blog/posts/%D9%85%DB%8C%D8%B2%D8%A8%D8%A7%D9%86%DB%8C_%D8%B3%D8%B1%D9%88%D8%B1_%DA%AF%DB%8C%D8%AA_%D8%B4%D8%AE%D8%B5%DB%8C/" />
<meta property="og:site_name" content="بلاگ - میلاد دورباش" />

<meta property="article:published_time" content="2020-10-09 00:00:00 &#43;0000 UTC" />





<script type="application/ld+json">
{ 
    "@context": "http://schema.org", 
    "@type": "BlogPosting",
    "headline": "میزبانی سرور گیت شخصی",
    "genre": "",  
    "url": "https:\/\/doorbash.github.io\/blog\/posts\/%D9%85%DB%8C%D8%B2%D8%A8%D8%A7%D9%86%DB%8C_%D8%B3%D8%B1%D9%88%D8%B1_%DA%AF%DB%8C%D8%AA_%D8%B4%D8%AE%D8%B5%DB%8C\/",
    "datePublished": "2020-10-09 00:00:00 \u002b0000 UTC",
    "description": "خب ازونجایی که گیتلب هم داره اکانت های ایرانی رو مسدود میکنه تصمیم گرفتم سرور گیت خودم رو میزبانی کنم. اینو بیشتر دارم مینویسم که بعدا اگه خواستم دوباره انجامش بدم یادم بیاد چکار کردم!\nدانلود و اکسترکت gogs از اینجا: https:\/\/gogs.io\/docs\/installation\/install_from_binary.html\nفایل custom\/config\/app.ini اگر وجود نداشت میسازیمش و پورت رو توش مینویسیم:\n[server] HTTP_PORT = 7777 اجرای gogs توسط pm2\npm2 start -i 1 --name gogs .\/gogs -- web با مرورگر به آدرس http:\/\/domain.",
    "author": {
        "@type": "Person",
        "name": ""
    }
 }
</script>




<link rel="stylesheet" href="/blog/sass/main.css">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
</head>


  <body>

    <header class="site-header">
<nav class="navbar navbar-default">
  <div class="container-fluid">
    
    <div class="navbar-header">
      <a class="navbar-brand" href="https://doorbash.github.io/blog/">بلاگ - میلاد دورباش</a>
    </div>
  </div>
</nav>
</header>


    <div class="container">
      <div class="wrapper">
        
<div class="row">

<div class="col-md-4 mt20">
        <div class="post-img">
           
            <img width="600" src="https://doorbash.github.io/blog/images/gogs.png" alt="میزبانی سرور گیت شخصی">
            
        </div>
            
        
        <div class="mt10 recent">
            <h3 class="mb16">نوشته‌های اخیر</h3>        
             <ul>
                

                      <li>
                      <p><small>October 9, 2020&nbsp;&nbsp;</small><a href="https://doorbash.github.io/blog/posts/%D9%85%DB%8C%D8%B2%D8%A8%D8%A7%D9%86%DB%8C_%D8%B3%D8%B1%D9%88%D8%B1_%DA%AF%DB%8C%D8%AA_%D8%B4%D8%AE%D8%B5%DB%8C/">میزبانی سرور گیت شخصی</a></p>
                      </li>

                

                      <li>
                      <p><small>June 22, 2020&nbsp;&nbsp;</small><a href="https://doorbash.github.io/blog/posts/%D8%A8%D8%B1%D8%B1%D8%B3%DB%8C_%D8%AA%D8%B1%D8%A7%D9%81%DB%8C%DA%A9_%D8%B4%D8%A8%DA%A9%D9%87_%D8%AA%D9%88%D8%B3%D8%B7_arp_spoofing/">بررسی ترافیک شبکه توسط arp spoofing</a></p>
                      </li>

                

                      <li>
                      <p><small>September 18, 2019&nbsp;&nbsp;</small><a href="https://doorbash.github.io/blog/posts/%D8%A8%D8%A7%D8%B2%DB%8C_%D9%87%D8%A7%DB%8C_%D9%81%D9%84%D8%B4_%D9%82%D8%AF%DB%8C%D9%85%DB%8C/">بازی های فلش قدیمی من</a></p>
                      </li>

                
              </ul>
        </div>
        
        <br>

</div>

<div class="col-md-8">
    <article class="post" itemscope itemtype="http://schema.org/BlogPosting">

          <header class="post-header">
            <h1 class="post-title" itemprop="name headline">میزبانی سرور گیت شخصی</h1>
            <p class="post-meta"><time datetime='2020-10-09T00:00:00Z' itemprop="datePublished">October 9, 2020</time></p>
                 
          </header>

          <div class="post-content" itemprop="articleBody">
            <p>خب ازونجایی که <a href="https://digiato.com/article/2020/10/08/%DA%AF%DB%8C%D8%AA%E2%80%8C%D9%84%D8%A8-%D8%AD%D8%B3%D8%A7%D8%A8-%DA%A9%D8%A7%D8%B1%D8%A8%D8%B1%DB%8C-%D8%AA%D9%88%D8%B3%D8%B9%D9%87%E2%80%8C%D8%AF%D9%87%D9%86%D8%AF%DA%AF%D8%A7%D9%86-%D8%A7%DB%8C/" target="_blank"> گیتلب هم داره اکانت های ایرانی رو مسدود میکنه </a>تصمیم گرفتم سرور گیت خودم رو میزبانی کنم.
اینو بیشتر دارم مینویسم که بعدا اگه خواستم دوباره انجامش بدم یادم بیاد چکار کردم!</p>
<p>دانلود و اکسترکت <span class="inline-code">gogs</span> از اینجا:
<p class="_ltr"><a href="https://gogs.io/docs/installation/install_from_binary.html" target="_blank">https://gogs.io/docs/installation/install_from_binary.html</a></p></p>
<p>فایل <span class="inline-code">custom/config/app.ini</span> اگر وجود نداشت میسازیمش و پورت رو توش مینویسیم:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Bash" data-lang="Bash"><span style="color:#000;font-weight:bold">[</span>server<span style="color:#000;font-weight:bold">]</span>
<span style="color:#008080">HTTP_PORT</span>        <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">7777</span>
</code></pre></div><p>اجرای <span class="inline-code">gogs</span> توسط <span class="inline-code">pm2</span></p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Bash" data-lang="Bash">pm2 start -i <span style="color:#099">1</span> --name gogs ./gogs -- web
</code></pre></div><p>با مرورگر به آدرس <a href="http://domain.com:7777" target="_blank"> http://domain.com:7777 </a> میریم و ادامه تنظیمات رو انجام میدیم و یک یوزر جدید ثبت نام میکنیم.</p>
<p>فایل <span class="inline-code">app.ini</span> رو به این شکل تغییرش میدیم:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Bash" data-lang="Bash"><span style="color:#000;font-weight:bold">[</span>server<span style="color:#000;font-weight:bold">]</span>
<span style="color:#008080">EXTERNAL_URL</span>     <span style="color:#000;font-weight:bold">=</span> https://domain.com/git

<span style="color:#000;font-weight:bold">[</span>service<span style="color:#000;font-weight:bold">]</span>
<span style="color:#008080">DISABLE_REGISTRATION</span>   <span style="color:#000;font-weight:bold">=</span> <span style="color:#0086b3">true</span>
</code></pre></div><p>یک پروکسی جدید روی <span class="inline-code">Nginx</span> تعریف میکنیم:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Bash" data-lang="Bash">http <span style="color:#000;font-weight:bold">{</span>
    ...
    client_max_body_size        0;

    server <span style="color:#000;font-weight:bold">{</span>
        ...
        location /git/ <span style="color:#000;font-weight:bold">{</span>
            proxy_pass  http://127.0.0.1:7777/;
        <span style="color:#000;font-weight:bold">}</span>
    <span style="color:#000;font-weight:bold">}</span>
<span style="color:#000;font-weight:bold">}</span>
</code></pre></div><p>حالا <span class="inline-code">Nginx</span> رو ریستارت میکنیم و تمام.
حالا دیگه میشه بدون دردسر روش مخزن سورس private یا public درست کرد!</p>
<img class="post-content-img" src="https://doorbash.github.io/blog/images/colyseus_on_gogs.png" alt="colyseus on gogs" />
<p>اگر با SSL به مشکل برخوردیم میشه سمت کلاینت اینکارو کرد:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Bash" data-lang="Bash">git config --global http.sslverify <span style="color:#0086b3">false</span>
</code></pre></div>
          </div>

    </article>
    <div class="row">
        
         
<div id="disqus_thread"></div>
<script defer>
(function() {
    var d = document, s = d.createElement('script');
    s.src = '//doorbash-github-io.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

        
    </div>
</div>

</div>




      </div>
    </div>

    <footer>
    <div class="container">
        <div class="row p20">
            
                <div class="col-md-4 text-center mt25">All rights reserved by <a target="_blank" href="https://doorbash.github.io">میلاد دورباش</a></div>
            

            <div class="col-md-4 text-center mt25" >
                
                <a target="_blank" href="https://bool.netlify.com"><img src="https://img.shields.io/badge/Built%20by-bool-brightgreen.svg" alt="bool"></a>
                
            </div>
            <div class="col-md-4 text-center mt25">
               
                <a target="_blank" href="https://github.com/doorbash"><li class="social github"><i class="fa fa-github-square"></i></li></a>
                
               
                <a target="_blank" href="mailto:milad.doorbash@gmail.com"><li class="social email"><i class="fa fa-envelope"></i></li></a>
                
            </div>

        </div> 
    </div>
</footer>
    

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js"></script>
  <script src="https://doorbash.github.io/blog//js/bootstrap.min.js"></script>
   
     
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-128176167-2', 'auto');
  ga('send', 'pageview');
</script>
  
  </body>

</html>